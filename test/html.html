<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>OpenAI Chatbot Demo</title>
    <link rel="stylesheet" href="css.css">
  </head>
  <body>
    <h1>OpenAI Chatbot Demo</h1>
    <div id="chat-container">
      <div id="messages"></div>
      <form id="chat-form" onsubmit="return sendMessage();">
        <input type="text" id="message-input" autocomplete="off" placeholder="Type your message...">
        <button type="submit">Send</button>
      </form>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/@openai/api@0.5.2/dist/web-bundle.js"></script>
    <!-- <script src="https://cdn.jsdelivr.net/npm/openai-cli@0.0.1/index.js"></script> -->
    <script>
      const openai = new OpenAI(apiKey);

      async function sendMessage() {
        const inputField = document.getElementById('message-input');
        const message = inputField.value;
        inputField.value = '';

        const response = await openai.complete({
          engine: 'davinci',
          prompt: 'User: ' + message + '\nAI:',
          maxTokens: 150,
          n: 1,
          stop: ['\n'],
          temperature: 0.7,
        });

        const aiMessage = response.choices[0].text.trim();
        appendMessage('ai', aiMessage);
        return false;
      }

      function appendMessage(role, content) {
        const messagesContainer = document.getElementById('messages');
        const messageElement = document.createElement('div');
        messageElement.classList.add('message', role);
        messageElement.innerText = content;
        messagesContainer.appendChild(messageElement);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }
    </script>
    <script src="js.js"></script>
  </body>
</html>
